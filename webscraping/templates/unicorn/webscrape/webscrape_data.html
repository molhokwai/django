
<!-- books/table.html -->
{% load unicorn %}
{% load define_action %}

<div unicorn:view>

    <!-- div class="grid grid-cols-2 gap-4" -->

        <div class="data-module">

            <ul class="messages messages mt-20 block bg-slate-600 p-4 rounded text-green-100 text-center hidden">
                {% if messages %}
                        {% for message in messages %}
                            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                        {% endfor %}
                {% else %}
                    &nbsp;
                {% endif %}
            </ul>


            <h2 id="aggregated-results-title"
                class="section-title mt-10 mb-4 bg-green-800 text-3xl text-green-100 text-center p-2">
                Aggregated Results
            </h2>

            <table id="aggregated-results-table"
                   class="table table-auto rounded border-green-300 bg-slate-100">
                <thead class="p-4 text-gray">
                    <tr>
                        {% for field in aggregated_results_table_fields %}
                            <td class="bg-green-600 first:rounded-l-lg last:rounded-r-lg p-2
                                       text-green-100 tracking-widest border-green-100">
                                {{ field|title }}
                            </td>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody id="aggregated-results--body">
                    <!--
                        {% for aggregated_result in aggregated_resultss %}
                            {% unicorn 'webscrape.row_aggregated_result' result=aggregated_result parent=self %}
                        {% endfor %}
                    -->

                    {% for aggregated_result in aggregated_results %}
                        {% include 'webscraping/includes/row_aggregated_result.html' %}
                    {% endfor %}
                </tbody>
            </table>          

        </div>


        <style>
            .col-left {
                float: left;
                width: 50%;
                min-width: 300px;
            }
            .col-right {
                float: right;
                width: 60%;
                min-width: 600px !important;                
            }

            @media screen and (min-width: 800px) {
                .col-right {
                    position: fixed !important;
                    top: 190px;
                    left: 800px;
                    width: 10%;
                }
            }

            thead tr td {
                font-size: .9em;
            }

            td font.url {
                font-size: .9em;
            }
            td.progressBarCell {
                padding-left: .75rem;
                padding-bottom: 1.4em;
                font-size: .9em;
            }

            .taskOutput{
                text-align: center;
                line-height: 85%;
            }
            .taskOutput a {
                color: #166534;
            }
            .taskOutput a:hover {
                color: darkcyan;
            }

            td.firstName {
                padding-left: 1em;
            }

            .overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5); 
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .overlay-content {
                background-color: #000;
                padding: 20px;
                border-radius: 5px;
                color: #fff;
                font-size: .7em;
                overflow: scroll;
            }

            .close-button {
                position: absolute;
                top: 10px;
                right: 10px;
                cursor: pointer;
                font-size: 3em;
                font-weight: bold;                
            }

            .taskStatus .fa-check {
                color: #20d035;
            } 
            .taskStatus .fa-gear {
                color: #ebc325;
            } 
            .taskStatus .fa-arrow {
                color: #2563eb;
            } 
            .taskStatus .fa-x {
                color: #eb2525;
                font-size: .8em;
            }

            #aggregated-results-title {
                margin-top: 8em;
            }  

            body {
                min-height: 200em;
            }  
        </style>

    <!-- /div -->
</div>
